<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <title>Zusammenfassung – ISO 9001 | AlignedDocs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>

<body>
<a class="skip" href="#content">Zum Inhalt springen</a>

<header class="site-header">
  <div class="container header-inner">
    <div class="brand">
      <div class="brand-mark"><span></span></div>
      <div class="brand-text">
        <strong>AlignedDocs</strong><br>
        <small>ISO 9001:2015 – automatisiertes Handbuch</small>
      </div>
    </div>
  </div>
</header>

<main id="content" class="container">

<section class="hero small">
  <h1>Zusammenfassung Ihrer Angaben</h1>
  <p class="lead">
    Bitte prüfen Sie Ihre Angaben.
    Die E-Mail-Adresse wird aus Sicherheitsgründen maskiert angezeigt.
  </p>
</section>

<section class="section card" id="summary"></section>

<div class="actions">
  <a href="de.formular.html" class="btn btn-ghost">Zurück & bearbeiten</a>
  <button class="btn btn-primary">Angaben bestätigen</button>
</div>

</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <small>© 2026 AlignedDocs</small>
  </div>
</footer>

<script>
const data = JSON.parse(sessionStorage.getItem("isoFormData") || "{}");
const summary = document.getElementById("summary");

function maskEmail(email) {
  if (!email || !email.includes("@")) return "—";
  const [n, d] = email.split("@");
  return n[0] + "***@" + d;
}

Object.entries(data).forEach(([k, v]) => {
  if (!v) return;
  if (k === "email") v = maskEmail(v);

  const div = document.createElement("div");
  div.style.marginBottom = "12px";
  div.innerHTML = `<strong>${k}</strong><br>${v}`;
  summary.appendChild(div);
});
</script>

</body>
</html>
